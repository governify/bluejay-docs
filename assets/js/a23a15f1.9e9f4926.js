"use strict";(self.webpackChunkbluejay_docs=self.webpackChunkbluejay_docs||[]).push([[3603],{2137:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>n,toc:()=>a});const n=JSON.parse('{"id":"development/architecture/collector-events-performance","title":"Collector-events performance","description":"Collector-events performance","source":"@site/docs/development/architecture/collector-events-performance.md","sourceDirName":"development/architecture","slug":"/development/architecture/collector-events-performance","permalink":"/next/development/architecture/collector-events-performance","draft":false,"unlisted":false,"editUrl":"https://github.com/governify/bluejay-docs/edit/main/docs/development/architecture/collector-events-performance.md","tags":[],"version":"current","lastUpdatedBy":"Pablo Fernandez","lastUpdatedAt":1751790370000,"sidebarPosition":1,"frontMatter":{"title":"Collector-events performance","description":"Collector-events performance","hide_table_of_contents":false,"sidebar_position":1,"keywords":["collector-events","performance analysis","tpa guarantees","calculation time","repository activity","event collector","performance slowdown","collector restart","computation time","ISPP-2024","manual calculations","automatic calculations","collector stability","performance issues"]},"sidebar":"defaultSidebar","previous":{"title":"Architecture","permalink":"/next/development/architecture/intro"},"next":{"title":"Bluejay only Services","permalink":"/next/development/bluejay-only-services/intro"}}');var s=o(4848),i=o(8453);const r={title:"Collector-events performance",description:"Collector-events performance",hide_table_of_contents:!1,sidebar_position:1,keywords:["collector-events","performance analysis","tpa guarantees","calculation time","repository activity","event collector","performance slowdown","collector restart","computation time","ISPP-2024","manual calculations","automatic calculations","collector stability","performance issues"]},c="Collector-events performance",l={},a=[{value:"Introduction",id:"introduction",level:2},{value:"Calculation time of a repository with High activity vs Low activity",id:"calculation-time-of-a-repository-with-high-activity-vs-low-activity",level:3},{value:"Performance",id:"performance",level:2},{value:"Collector-events slowdown",id:"collector-events-slowdown",level:3},{value:"Reason on the cause of collector-events slowdown",id:"reason-on-the-cause-of-collector-events-slowdown",level:3}];function d(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"collector-events-performance",children:"Collector-events performance"})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"introduction",children:"Introduction"}),"\n",(0,s.jsx)(t.p,{children:"These conclusions are the result of two performance analysis that have been carried out demonstrating what is set out below."}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://docs.google.com/spreadsheets/d/1Upg3FPM2alc0Ys-61MBUJiLufiG5ALuVAVllVsF58PY/edit?usp=sharing",children:"Analysis with TPA of 5 guarantees"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://docs.google.com/spreadsheets/d/1Xc7gb1O7iqSB86NvGlywV6z7nmkCe4msFGU3bldWqGo/edit?usp=sharing",children:"Analysis with TPA of 10 guarantees"})}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"calculation-time-of-a-repository-with-high-activity-vs-low-activity",children:"Calculation time of a repository with High activity vs Low activity"}),"\n",(0,s.jsxs)(t.p,{children:["Calculations for TPAs whose repositories contain more information (issues, comments, pull requests, etc.) take longer to compute compared to those with less information. However, the difference is small. Nevertheless, it should be studied on a case-by-case basis depending on the project repository and the TPA used to obtain a detailed understanding of the difference to take it into account. You can find evidence in this sheet showing the increase in collector calculation time over time for various projects during the course of ISPP-2024. ",(0,s.jsx)(t.a,{href:"https://docs.google.com/spreadsheets/d/15HNMi1VU1ZUy0s6t1aNuTapS2eRQCLG3Z0iVGgdGEsg/edit?usp=sharing",children:"link"})]}),"\n",(0,s.jsx)(t.h2,{id:"performance",children:"Performance"}),"\n",(0,s.jsx)(t.h3,{id:"collector-events-slowdown",children:"Collector-events slowdown"}),"\n",(0,s.jsxs)(t.p,{children:["It has been observed that the ",(0,s.jsx)(t.code,{children:"collector-events"})," experiences slowdowns at times, leading to a significant increase in computation times. When the collector is stable, computation times also stabilize. However, when it becomes destabilized, computation times spike. When does this destabilization occur?"]}),"\n",(0,s.jsxs)(t.p,{children:["The solution to this slowdown is to restart the ",(0,s.jsx)(t.code,{children:"collector-events"}),", whether in production or development environments."]}),"\n",(0,s.jsx)(t.p,{children:"Below, several potential reasons for this occurrence are considered:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Does the ",(0,s.jsx)(t.code,{children:"collector-events"})," destabilize after performing calculations over long periods?","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"It remains stable even during large calculations."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Calculations have been conducted over extensive periods (months). Subsequently, calculations are repeated over shorter periods (hours), resulting in the expected execution times."}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Does it become unstable over the course of several days, indicating that the collector remains inactive for extended periods without being restarted?","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"It remains stable over the course of several days."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["After 4 days without any calculations being performed by the ",(0,s.jsx)(t.code,{children:"collector-events"})," and the registry, calculations are executed over short periods (hours), yielding the anticipated execution times."]}),"\n",(0,s.jsx)(t.h3,{id:"reason-on-the-cause-of-collector-events-slowdown",children:"Reason on the cause of collector-events slowdown"}),"\n",(0,s.jsx)(t.p,{children:"This issue may arise due to various reasons:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Activation of too many automatic calculations that are not evenly distributed over time"}),'. If a new calculation is initiated before the previous one is completed, calculations will accumulate, causing the system to "slow down" due to the aforementioned single-threaded calculation resolution problem.']}),"\n",(0,s.jsxs)(t.li,{children:["The aforementioned scenario may also occur when launching ",(0,s.jsx)(t.strong,{children:"too many manual calculations or through a combination of automatic and manual calculations"}),"."]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,t,o)=>{o.d(t,{R:()=>r,x:()=>c});var n=o(6540);const s={},i=n.createContext(s);function r(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);